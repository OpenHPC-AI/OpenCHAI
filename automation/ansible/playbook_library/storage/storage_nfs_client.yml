---
- name: Configure NFS Client
  hosts: all
  become: true
  vars_files:
    - ../../group_vars/all.yml
  vars:
    nfs_client_packages:
      - nfs-utils
    nfs_client_service: nfs-client.target
    nfs_client_state: started        # started, stopped, restarted
    nfs_client_enabled: true         # true or false
    nfs_client_install_if_missing: true
    nfs_mounts:                       # server:path mount_point
      - { src: "{{ headnode_ip }}":"{{ rpm_stack_path }}", dest: "{{ rpm_stack_path }}", opts: "defaults" }

  roles:
    - "{{ roles_parent_path }}/storage_lib/storage_nfs_client"
